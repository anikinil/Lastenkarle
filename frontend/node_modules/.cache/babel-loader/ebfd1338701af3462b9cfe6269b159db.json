{"ast":null,"code":"var _jsxFileName = \"/home/ilja/Lastenkarle/buchungssytem-lastenkarle/frontend/src/pages/Login.js\";\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nconst Login = () => {\n  const {\n    t\n  } = useTranslation();\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [token, setToken] = useState();\n\n  // function handleLoginClick() {\n  //     postLogin();\n  // }\n\n  // POST login request\n  // const postLogin = () => {\n\n  //     let payload = {\n  //         username: username,\n  //         password: password\n  //     };\n\n  //     // POST login request\n  //     fetch(URI_USER_LOGIN, {\n  //         method: 'POST',\n  //         headers: {\n  //             'Content-Type': 'application/json',\n  //         },\n  //         body: JSON.stringify(payload)\n  //     })\n  //         .then(response => {\n  //             if (response?.ok) {\n  //                 return response.json();\n  //             } else {\n  //                 // If the request was not successful, throw an error\n  //                 return response.json().then(errorData => {\n  //                     throw new Error(errorData.message);\n  //                 });\n  //             }\n  //         })\n  //         .then(data => {\n  //             const token = data.token;\n  //             navigateToNextPage(token);\n  //         })\n  //         .catch(error => {\n  //             // Handle any network or other errors that occurred during the request\n  //             alert('Error making login request.' + error.message);\n  //         });\n  // }\n\n  // const handeHelmholtzSignInClick = () => {\n  //     window.location.replace(URL_USER_HELMHOLTZ);\n  // }\n\n  // const handleSignInClick = () => {\n  //     // navigate to register page\n  // }\n\n  const setTokenCookie = () => {\n    var days = 1;\n    const expirationDate = new Date();\n    expirationDate.setDate(expirationDate.getDate() + days);\n    document.cookie = `${'token'}=${token}; expires=${expirationDate.toUTCString()}; path=/`;\n  };\n\n  // this prevents user from switching to new line by hitting [Enter]\n  const handleUsernameFieldKeyDown = event => {\n    if (event.key === 'Enter') {\n      event.preventDefault();\n    }\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, t('login')), /*#__PURE__*/React.createElement(\"textarea\", {\n    title: t('enter_username'),\n    className: \"username\",\n    rows: \"1\",\n    value: username,\n    onChange: e => setUsername(e.target.value),\n    onKeyDown: handleUsernameFieldKeyDown,\n    placeholder: t('enter_username'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"textarea\", {\n    title: t('enter_password'),\n    className: \"password\",\n    rows: \"1\",\n    value: password,\n    onChange: e => setPassword(e.target.value),\n    onKeyDown: handlePasswordFieldKeyDown,\n    placeholder: t('enter_username'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: username,\n    onChange: e => setUsername(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => setTokenCookie(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }, t('submit')));\n};\nexport default Login;","map":{"version":3,"names":["React","useState","useTranslation","Login","t","username","setUsername","password","setPassword","token","setToken","setTokenCookie","days","expirationDate","Date","setDate","getDate","document","cookie","toUTCString","handleUsernameFieldKeyDown","event","key","preventDefault","createElement","Fragment","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","title","className","rows","value","onChange","e","target","onKeyDown","placeholder","handlePasswordFieldKeyDown","type","onClick"],"sources":["/home/ilja/Lastenkarle/buchungssytem-lastenkarle/frontend/src/pages/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\n\nconst Login = () => {\n\n    const { t } = useTranslation();\n\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n\n    const [token, setToken] = useState()\n\n    // function handleLoginClick() {\n    //     postLogin();\n    // }\n\n    // POST login request\n    // const postLogin = () => {\n\n    //     let payload = {\n    //         username: username,\n    //         password: password\n    //     };\n\n    //     // POST login request\n    //     fetch(URI_USER_LOGIN, {\n    //         method: 'POST',\n    //         headers: {\n    //             'Content-Type': 'application/json',\n    //         },\n    //         body: JSON.stringify(payload)\n    //     })\n    //         .then(response => {\n    //             if (response?.ok) {\n    //                 return response.json();\n    //             } else {\n    //                 // If the request was not successful, throw an error\n    //                 return response.json().then(errorData => {\n    //                     throw new Error(errorData.message);\n    //                 });\n    //             }\n    //         })\n    //         .then(data => {\n    //             const token = data.token;\n    //             navigateToNextPage(token);\n    //         })\n    //         .catch(error => {\n    //             // Handle any network or other errors that occurred during the request\n    //             alert('Error making login request.' + error.message);\n    //         });\n    // }\n\n    // const handeHelmholtzSignInClick = () => {\n    //     window.location.replace(URL_USER_HELMHOLTZ);\n    // }\n\n    // const handleSignInClick = () => {\n    //     // navigate to register page\n    // }\n\n    const setTokenCookie = () => {\n        var days = 1\n        const expirationDate = new Date();\n        expirationDate.setDate(expirationDate.getDate() + days);\n        document.cookie = `${'token'}=${token}; expires=${expirationDate.toUTCString()}; path=/`;\n    };\n\n    // this prevents user from switching to new line by hitting [Enter]\n    const handleUsernameFieldKeyDown = (event) => {\n        if (event.key === 'Enter') {\n            event.preventDefault();\n        }\n    };\n\n    return (\n        <>\n            <h1>{t('login')}</h1>\n\n            <textarea\n                title={t('enter_username')}\n                className='username'\n                rows='1'\n                value={username}\n                onChange={e => setUsername(e.target.value)}\n                onKeyDown={handleUsernameFieldKeyDown}\n                placeholder={t('enter_username')}\n            >\n            </textarea>\n\n            {/* check if there is an extra textarea type for passwords */}\n            <textarea\n                title={t('enter_password')}\n                className='password'\n                rows='1'\n                value={password}\n                onChange={e => setPassword(e.target.value)}\n                onKeyDown={handlePasswordFieldKeyDown}\n                placeholder={t('enter_username')}\n            >\n            </textarea>\n\n            <input type='text' value={username} onChange={e => setUsername(e.target.value)}></input>\n            <button onClick={() => setTokenCookie()}>{t('submit')}</button>\n        </>\n    );\n};\n\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}