{"ast":null,"code":"var _jsxFileName = \"/home/ilja/Lastenkarle/buchungssytem-lastenkarle/frontend/src/pages/Login.js\";\nimport React, { useState } from 'react';\nconst Login = () => {\n  const [username, setUsername] = useState('');\n  function handleLoginClick() {\n    postLogin();\n  }\n\n  // POST login request\n  const postLogin = () => {\n    let payload = {\n      username: username,\n      password: password\n    };\n\n    // POST login request\n    fetch(URI_USER_LOGIN, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(payload)\n    }).then(response => {\n      if (response === null || response === void 0 ? void 0 : response.ok) {\n        return response.json();\n      } else {\n        // If the request was not successful, throw an error\n        return response.json().then(errorData => {\n          throw new Error(errorData.message);\n        });\n      }\n    }).then(data => {\n      const token = data.token;\n      navigateToNextPage(token);\n    }).catch(error => {\n      // Handle any network or other errors that occurred during the request\n      alert('Error making login request.' + error.message);\n    });\n  };\n  const handeHelmholtzSignInClick = () => {\n    window.location.replace(URL_USER_HELMHOLTZ);\n  };\n  const handleSignInClick = () => {\n    // navigate to register page\n  };\n  const setTokenCookie = () => {\n    var days = 1;\n    const expirationDate = new Date();\n    expirationDate.setDate(expirationDate.getDate() + days);\n    document.cookie = `${'token'}=${token}; expires=${expirationDate.toUTCString()}; path=/`;\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    title: t('enter_username'),\n    className: \"username\",\n    rows: \"1\",\n    value: username,\n    onChange: e => setUsername(e.target.value),\n    onKeyDown: handleUSernameFieldKeyDown,\n    placeholder: t('enter_username'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: username,\n    onChange: e => setUsername(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => setUsernameCookie(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, \"Submit\"));\n};\nexport default Login;","map":{"version":3,"names":["React","useState","Login","username","setUsername","handleLoginClick","postLogin","payload","password","fetch","URI_USER_LOGIN","method","headers","body","JSON","stringify","then","response","ok","json","errorData","Error","message","data","token","navigateToNextPage","catch","error","alert","handeHelmholtzSignInClick","window","location","replace","URL_USER_HELMHOLTZ","handleSignInClick","setTokenCookie","days","expirationDate","Date","setDate","getDate","document","cookie","toUTCString","createElement","Fragment","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","title","t","className","rows","value","onChange","e","target","onKeyDown","handleUSernameFieldKeyDown","placeholder","type","onClick","setUsernameCookie"],"sources":["/home/ilja/Lastenkarle/buchungssytem-lastenkarle/frontend/src/pages/Login.js"],"sourcesContent":["import React, { useState } from 'react';\n\n\nconst Login = () => {\n\n    const [username, setUsername] = useState('');\n\n    function handleLoginClick() {\n        postLogin();\n    }\n\n    // POST login request\n    const postLogin = () => {\n\n        let payload = {\n            username: username,\n            password: password\n        };\n\n        // POST login request\n        fetch(URI_USER_LOGIN, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(payload)\n        })\n            .then(response => {\n                if (response?.ok) {\n                    return response.json();\n                } else {\n                    // If the request was not successful, throw an error\n                    return response.json().then(errorData => {\n                        throw new Error(errorData.message);\n                    });\n                }\n            })\n            .then(data => {\n                const token = data.token;\n                navigateToNextPage(token);\n            })\n            .catch(error => {\n                // Handle any network or other errors that occurred during the request\n                alert('Error making login request.' + error.message);\n            });\n    }\n\n    const handeHelmholtzSignInClick = () => {\n        window.location.replace(URL_USER_HELMHOLTZ);\n    }\n\n    const handleSignInClick = () => {\n        // navigate to register page\n    }\n\n    const setTokenCookie = () => {\n        var days = 1\n        const expirationDate = new Date();\n        expirationDate.setDate(expirationDate.getDate() + days);\n        document.cookie = `${'token'}=${token}; expires=${expirationDate.toUTCString()}; path=/`;\n    };\n\n    return (\n        <>\n            <h1>Login</h1>\n\n            <textarea\n                title={t('enter_username')}\n                className='username'\n                rows='1'\n                value={username}\n                onChange={e => setUsername(e.target.value)}\n                onKeyDown={handleUSernameFieldKeyDown}\n                placeholder={t('enter_username')}\n            >\n            </textarea>\n\n            <input type='text' value={username} onChange={e => setUsername(e.target.value)}></input>\n            <button onClick={() => setUsernameCookie()}>Submit</button>\n        </>\n    );\n};\n\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}