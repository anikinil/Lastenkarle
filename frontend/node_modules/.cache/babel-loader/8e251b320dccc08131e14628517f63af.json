{"ast":null,"code":"var _jsxFileName = \"/home/ilja/Lastenkarle/buchungssytem-lastenkarle/frontend/src/pages/Logout.js\";\nimport React, { useState, startTransition } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { LOGOUT } from '../constants/URIs/UserURIs';\nimport { useNavigate } from 'react-router-dom';\n\n// on successful logout this component does not show any content and only runs the logout script\n// on failure it can display the error message to the user\nconst Logout = () => {\n  const {\n    t\n  } = useTranslation();\n  const navigate = useNavigate();\n\n  // TODO acquire token from cookie\n  const [token, setToken] = useState('');\n\n  // logout call\n  logout();\n\n  // POST logout request\n  function logout() {\n    // Send the POST request to the server endpoint\n    fetch(LOGOUT, {\n      method: 'POST',\n      headers: {\n        'Authorization': `Token ${token}`\n      }\n    }).then(response => {\n      if (response.ok) {\n        // TODO check if startTransition() needed\n        startTransition(() => {\n          // TODO add proper variable for home navigation\n          navigate(URL_HOME);\n        });\n      } else {\n        // If the request was not successful throw an error\n        throw new Error(response.detail);\n      }\n    }).catch(error => {\n      // TODO replace by proper variable\n      alert('Error making the logout request.');\n    });\n  }\n\n  // THINK if necessary\n  const deleteTokenCookie = () => {\n    // TODO implement\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, error ? /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, \"Error message\") : null);\n};\nexport default Logout;","map":{"version":3,"names":["React","useState","startTransition","useTranslation","LOGOUT","useNavigate","Logout","t","navigate","token","setToken","logout","fetch","method","headers","then","response","ok","URL_HOME","Error","detail","catch","error","alert","deleteTokenCookie","createElement","Fragment","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["/home/ilja/Lastenkarle/buchungssytem-lastenkarle/frontend/src/pages/Logout.js"],"sourcesContent":["import React, { useState, startTransition } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { LOGOUT } from '../constants/URIs/UserURIs';\nimport { useNavigate } from 'react-router-dom';\n\n// on successful logout this component does not show any content and only runs the logout script\n// on failure it can display the error message to the user\nconst Logout = () => {\n\n    const { t } = useTranslation();\n\n    const navigate = useNavigate();\n\n    // TODO acquire token from cookie\n    const [token, setToken] = useState('')\n\n    // logout call\n    logout();\n\n    // POST logout request\n    function logout() {\n        // Send the POST request to the server endpoint\n        fetch(LOGOUT, {\n            method: 'POST',\n            headers: {\n                'Authorization': `Token ${token}`\n            }\n        })\n            .then(response => {\n                if (response.ok) {\n                    // TODO check if startTransition() needed\n                    startTransition(() => {\n                        // TODO add proper variable for home navigation\n                        navigate(URL_HOME);\n                    });\n                } else {\n                    // If the request was not successful throw an error\n                    throw new Error(response.detail);\n                }\n            })\n            .catch(error => {\n                // TODO replace by proper variable\n                alert('Error making the logout request.');\n            });\n    }\n\n    // THINK if necessary\n    const deleteTokenCookie = () => {\n        // TODO implement\n    };\n\n    return (\n        <>\n            {error ?\n                <span>Error message</span>\n                :\n                null\n            }\n        </>\n    );\n};\n\nexport default Logout;"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,eAAe,QAAQ,OAAO;AACxD,SAASC,cAAc,QAAQ,eAAe;AAE9C,SAASC,MAAM,QAAQ,4BAA4B;AACnD,SAASC,WAAW,QAAQ,kBAAkB;;AAE9C;AACA;AACA,MAAMC,MAAM,GAAGA,CAAA,KAAM;EAEjB,MAAM;IAAEC;EAAE,CAAC,GAAGJ,cAAc,CAAC,CAAC;EAE9B,MAAMK,QAAQ,GAAGH,WAAW,CAAC,CAAC;;EAE9B;EACA,MAAM,CAACI,KAAK,EAAEC,QAAQ,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;;EAEtC;EACAU,MAAM,CAAC,CAAC;;EAER;EACA,SAASA,MAAMA,CAAA,EAAG;IACd;IACAC,KAAK,CAACR,MAAM,EAAE;MACVS,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACL,eAAe,EAAE,SAASL,KAAK;MACnC;IACJ,CAAC,CAAC,CACGM,IAAI,CAACC,QAAQ,IAAI;MACd,IAAIA,QAAQ,CAACC,EAAE,EAAE;QACb;QACAf,eAAe,CAAC,MAAM;UAClB;UACAM,QAAQ,CAACU,QAAQ,CAAC;QACtB,CAAC,CAAC;MACN,CAAC,MAAM;QACH;QACA,MAAM,IAAIC,KAAK,CAACH,QAAQ,CAACI,MAAM,CAAC;MACpC;IACJ,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,IAAI;MACZ;MACAC,KAAK,CAAC,kCAAkC,CAAC;IAC7C,CAAC,CAAC;EACV;;EAEA;EACA,MAAMC,iBAAiB,GAAGA,CAAA,KAAM;IAC5B;EAAA,CACH;EAED,oBACIxB,KAAA,CAAAyB,aAAA,CAAAzB,KAAA,CAAA0B,QAAA,QACKJ,KAAK,gBACFtB,KAAA,CAAAyB,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAM,eAAmB,CAAC,GAE1B,IAEN,CAAC;AAEX,CAAC;AAED,eAAe1B,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module"}